(()=>{"use strict";const e=e=>{let t=document.documentElement.scrollTop+e.getBoundingClientRect().top;window.scrollTo({top:t,behavior:"smooth"})},t=(e,t,o=".popup-dialog")=>{const r=document.querySelectorAll(e),l=document.querySelector(t),s=document.querySelector(".popup-menu"),c=s.querySelector(".popup-dialog-menu");r.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),l.classList.add("show-popup"),s.classList.remove("show-popup"),c.classList.remove("show-menu"),l.addEventListener("click",(e=>{!e.target.closest(".close")&&e.target.closest(o)||l.classList.remove("show-popup")}))}))}))};(()=>{const e=document.querySelector(".header-contacts"),t=e.querySelector(".header-contacts__phone-number-accord");e.addEventListener("click",(e=>{if(e.target.closest(".header-contacts__arrow")){const o=e.target.closest(".header-contacts__arrow");o.classList.toggle("rotate");const r=t.querySelector("a");o.classList.contains("rotate")?(t.style.top="25px",r.style.opacity="1"):(t.style.top="0px",r.style.opacity="0")}}))})(),(()=>{const t=document.querySelector(".menu__icon"),o=document.querySelector(".popup-menu"),r=o.querySelector(".popup-dialog-menu"),l=()=>{o.classList.toggle("show-popup"),r.classList.toggle("show-menu")};t.addEventListener("click",(()=>{l()})),o.addEventListener("click",(t=>{if(!t.target.closest(".close-menu")&&t.target.closest(".popup-dialog-menu")||l(),t.target.closest(".popup-menu-nav__item")){t.preventDefault(),l();let o=document.querySelector(t.target.getAttribute("href"));e(o)}}))})(),(()=>{const t=document.querySelector(".button-footer"),o=document.getElementById("main");t.addEventListener("click",(t=>{t.preventDefault(),e(o)}))})(),t(".link-list",".popup-repair-types"),t(".link-privacy",".popup-privacy"),t(".button_wide",".popup-consultation",".feedback-wrap"),function(){const e=function(e){let t=e.target,o=t.dataset.phoneClear,r=t.dataset.phonePattern||"+7(___) ___-__-__",l=0,s=r.replace(/\D/g,""),c=e.target.value.replace(/\D/g,"");"false"!==o&&"blur"===e.type&&c.length<r.match(/([\_\d])/g).length?e.target.value="":(s.length>=c.length&&(c=s),e.target.value=r.replace(/./g,(function(e){return/[_\d]/.test(e)&&l<c.length?c.charAt(l++):l>=c.length?"":e})))},t=document.querySelectorAll("[data-phone-pattern]");for(let o of t)for(let t of["input","blur","focus"])o.addEventListener(t,e)}(),document.querySelectorAll(".formula-item").forEach((e=>{e.addEventListener("mouseover",(e=>{if(e.target.closest(".formula-item__icon")){const t=e.target.closest(".formula-item__icon").querySelector(".formula-item-popup");t.style.visibility="visible",t.style.opacity="1";let o=e.target.getBoundingClientRect();t.offsetHeight>o.top?(t.classList.add("rotate-hint"),t.style.transform=`translate3d(0, ${t.offsetHeight+e.target.offsetHeight+e.target.offsetHeight}px, 0)`):(t.classList.remove("rotate-hint"),t.style.transform="")}})),e.addEventListener("mouseleave",(e=>{const t=e.target.querySelector(".formula-item__icon").querySelector(".formula-item-popup");t.style.visibility="",t.style.opacity=""}))}))})();